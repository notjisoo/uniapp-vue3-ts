{"version":3,"file":"my.js","sources":["../../../../../src/pages/my/my.vue","../../../../../uniPage:/cGFnZXMvbXkvbXkudnVl"],"sourcesContent":["<script setup lang=\"ts\">\nimport { useGuessList } from \"@/composables\";\nimport { useMemberStore } from \"@/stores\";\n\n// 获取屏幕边界到安全区域距离\nconst { safeAreaInsets } = uni.getSystemInfoSync();\n// 订单选项\nconst orderTypes = [\n  { type: 1, text: \"待付款\", icon: \"icon-currency\" },\n  { type: 2, text: \"待发货\", icon: \"icon-gift\" },\n  { type: 3, text: \"待收货\", icon: \"icon-check\" },\n  { type: 4, text: \"待评价\", icon: \"icon-comment\" },\n];\n\n// 获取会员信息\nconst memberStore = useMemberStore();\nconst { guessRef, onScrolltolower } = useGuessList(); // 组合式API\n</script>\n\n<template>\n  <scroll-view\n    @scrolltolower=\"onScrolltolower\"\n    class=\"viewport\"\n    scroll-y\n    enable-back-to-top\n  >\n    <!-- 个人资料 -->\n    <view class=\"profile\" :style=\"{ paddingTop: safeAreaInsets!.top + 'px' }\">\n      <!-- 情况1：已登录 -->\n      <view class=\"overview\" v-if=\"memberStore.profile\">\n        <navigator url=\"/pagesMember/profile/profile\" hover-class=\"none\">\n          <image\n            class=\"avatar\"\n            mode=\"aspectFill\"\n            :src=\"memberStore.profile.avatar\"\n          ></image>\n        </navigator>\n        <view class=\"meta\">\n          <view class=\"nickname\">\n            {{ memberStore.profile.nickname || memberStore.profile.account }}\n          </view>\n          <navigator\n            class=\"extra\"\n            url=\"/pagesMember/profile/profile\"\n            hover-class=\"none\"\n          >\n            <text class=\"update\">更新头像昵称</text>\n          </navigator>\n        </view>\n      </view>\n      <!-- 情况2：未登录 -->\n      <view class=\"overview\" v-else>\n        <navigator url=\"/pages/login/login\" hover-class=\"none\">\n          <image\n            class=\"avatar gray\"\n            mode=\"aspectFill\"\n            src=\"http://yjy-xiaotuxian-dev.oss-cn-beijing.aliyuncs.com/picture/2021-04-06/db628d42-88a7-46e7-abb8-659448c33081.png\"\n          ></image>\n        </navigator>\n        <view class=\"meta\">\n          <navigator\n            url=\"/pages/login/login\"\n            hover-class=\"none\"\n            class=\"nickname\"\n          >\n            未登录\n          </navigator>\n          <view class=\"extra\">\n            <text class=\"tips\">点击登录账号</text>\n          </view>\n        </view>\n      </view>\n\n      <navigator\n        class=\"settings\"\n        url=\"/pagesMember/settings/settings\"\n        hover-class=\"none\"\n      >\n        设置\n      </navigator>\n    </view>\n\n    <!-- 我的订单 -->\n    <view class=\"orders\">\n      <view class=\"title\">\n        我的订单\n        <navigator\n          class=\"navigator\"\n          url=\"/pagesOrder/list/list?type=0\"\n          hover-class=\"none\"\n        >\n          查看全部订单<text class=\"icon-right\"></text>\n        </navigator>\n      </view>\n      <view class=\"section\">\n        <!-- 订单 -->\n        <navigator\n          v-for=\"item in orderTypes\"\n          :key=\"item.type\"\n          :class=\"item.icon\"\n          :url=\"`/pagesOrder/list/list?type=${item.type}`\"\n          class=\"navigator\"\n          hover-class=\"none\"\n        >\n          {{ item.text }}\n        </navigator>\n        <!-- 客服 -->\n        <button class=\"contact icon-handset\" open-type=\"contact\">售后</button>\n      </view>\n    </view>\n\n    <!-- 猜你喜欢 -->\n    <view class=\"guess\">\n      <XtxGuess ref=\"guessRef\" />\n    </view>\n  </scroll-view>\n</template>\n\n<style lang=\"scss\">\npage {\n  height: 100%;\n  overflow: hidden;\n  background-color: #f7f7f8;\n}\n\n.viewport {\n  height: 100%;\n  background-repeat: no-repeat;\n  background-image: url(https://pcapi-xiaotuxian-front-devtest.itheima.net/miniapp/images/center_bg.png);\n  background-size: 100% auto;\n}\n\n/* 用户信息 */\n.profile {\n  margin-top: 20rpx;\n  position: relative;\n\n  .overview {\n    display: flex;\n    height: 120rpx;\n    padding: 0 36rpx;\n    color: #fff;\n  }\n\n  .avatar {\n    width: 120rpx;\n    height: 120rpx;\n    border-radius: 50%;\n    background-color: #eee;\n  }\n\n  .gray {\n    filter: grayscale(100%);\n  }\n\n  .meta {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: flex-start;\n    line-height: 30rpx;\n    padding: 16rpx 0;\n    margin-left: 20rpx;\n  }\n\n  .nickname {\n    max-width: 350rpx;\n    margin-bottom: 16rpx;\n    font-size: 30rpx;\n\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n\n  .extra {\n    display: flex;\n    font-size: 20rpx;\n  }\n\n  .tips {\n    font-size: 22rpx;\n  }\n\n  .update {\n    padding: 3rpx 10rpx 1rpx;\n    color: rgba(255, 255, 255, 0.8);\n    border: 1rpx solid rgba(255, 255, 255, 0.8);\n    margin-right: 10rpx;\n    border-radius: 30rpx;\n  }\n\n  .settings {\n    position: absolute;\n    bottom: 0;\n    right: 40rpx;\n    font-size: 30rpx;\n    color: #fff;\n  }\n}\n\n/* 我的订单 */\n.orders {\n  position: relative;\n  z-index: 99;\n  padding: 30rpx;\n  margin: 50rpx 20rpx 0;\n  background-color: #fff;\n  border-radius: 10rpx;\n  box-shadow: 0 4rpx 6rpx rgba(240, 240, 240, 0.6);\n\n  .title {\n    height: 40rpx;\n    line-height: 40rpx;\n    font-size: 28rpx;\n    color: #1e1e1e;\n\n    .navigator {\n      font-size: 24rpx;\n      color: #939393;\n      float: right;\n    }\n  }\n\n  .section {\n    width: 100%;\n    display: flex;\n    justify-content: space-between;\n    padding: 40rpx 20rpx 10rpx;\n    .navigator,\n    .contact {\n      text-align: center;\n      font-size: 24rpx;\n      color: #333;\n      &::before {\n        display: block;\n        font-size: 60rpx;\n        color: #ff9545;\n      }\n    }\n    .contact {\n      padding: 0;\n      margin: 0;\n      border: 0;\n      background-color: transparent;\n      line-height: inherit;\n    }\n  }\n}\n\n/* 猜你喜欢 */\n.guess {\n  background-color: #f7f7f8;\n  margin-top: 20rpx;\n}\n</style>\n","import MiniProgramPage from '/Users/ljh/Desktop/uniapp-v3+Ts-shop/src/pages/my/my.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni","useMemberStore","useGuessList"],"mappings":";;;;;;;;;;;;;;;;AAKA,UAAM,EAAE,eAAA,IAAmBA,cAAA,MAAI,kBAAkB;AAEjD,UAAM,aAAa;AAAA,MACjB,EAAE,MAAM,GAAG,MAAM,OAAO,MAAM,gBAAgB;AAAA,MAC9C,EAAE,MAAM,GAAG,MAAM,OAAO,MAAM,YAAY;AAAA,MAC1C,EAAE,MAAM,GAAG,MAAM,OAAO,MAAM,aAAa;AAAA,MAC3C,EAAE,MAAM,GAAG,MAAM,OAAO,MAAM,eAAe;AAAA,IAAA;AAI/C,UAAM,cAAcC,sBAAAA;AACpB,UAAM,EAAE,UAAU,gBAAgB,IAAIC,kBAAa,aAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACfnD,GAAG,WAAW,eAAe;"}